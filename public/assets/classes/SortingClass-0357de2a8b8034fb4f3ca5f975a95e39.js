(function(){angular.module("portfolioApp").factory("Sorting",function(){var Sorting;return Sorting=function(){function Sorting(parentId,sortFields,currentField,currentType){this.parentId=parentId,this.sortFields=sortFields,this.currentField=currentField,this.currentType=currentType}return Sorting.asc="asc",Sorting.desc="desc",Sorting.none="none",Sorting.number="num",Sorting.string="string",Sorting.date="date",Sorting.prototype.setParentId=function(parentId){this.parentId=parentId},Sorting.prototype.setCurrentField=function(currentField){this.currentField=currentField},Sorting.prototype.setCurrentType=function(currentType){this.currentType=currentType},Sorting.prototype.setFields=function(sortFields){this.sortFields=sortFields},Sorting.prototype.getParentId=function(){return this.parentId},Sorting.prototype.getFields=function(){return this.sortFields},Sorting.prototype.getCurrentField=function(){return this.currentField},Sorting.prototype.getCurrentType=function(){return this.currentType},Sorting.prototype.checkOrderByField=function(field){return this.currentField===field?Sorting.asc:this.currentField==="-"+field?Sorting.desc:Sorting.none},Sorting.prototype.updateOrder=function(field,type){var idx;return idx=this.sortFields.indexOf(field),-1===idx&&(idx=this.sortFields.indexOf("-"+field)),-1===idx?(this.sortFields.push(field),this.setCurrentField(field)):"-"===this.sortFields[idx][0]?(this.sortFields[idx]=field,this.setCurrentField(field)):(this.sortFields[idx]="-"+field,this.setCurrentField("-"+field)),this.setCurrentType(type)},Sorting.prototype.currentOrderField=function(){return"-"===this.currentField[0]?this.currentField.substr(1):this.currentField},Sorting.prototype.currentOrderReversibility=function(){return"-"===this.currentField[0]},Sorting.drawDesc=function(ctx_param){return ctx_param.beginPath(),ctx_param.moveTo(8,5),ctx_param.lineTo(14,16),ctx_param.lineTo(2,16),ctx_param.closePath(),ctx_param.fill()},Sorting.drawAsc=function(ctx_param){return ctx_param.beginPath(),ctx_param.moveTo(2,5),ctx_param.lineTo(14,5),ctx_param.lineTo(8,16),ctx_param.closePath(),ctx_param.fill()},Sorting.drawNone=function(ctx_param,elem){var centerX,centerY,radius;return centerX=elem.width/2,centerY=10,radius=3,ctx_param.beginPath(),ctx_param.arc(centerX,centerY,radius,0,2*Math.PI,!1),ctx_param.closePath(),ctx_param.fill()},Sorting.sort=function(items,field,reverse,type){var filtered;return filtered=[],angular.forEach(items,function(item){return filtered.push(item)}),filtered.sort(function(a,b){var x,y;return type===Sorting.number?(x=Number(a[field]),y=Number(b[field])):type===Sorting.date?(x=new Date(a[field]),y=new Date(b[field])):(x=normalize(a[field]),y=normalize(b[field])),x>y?1:-1}),reverse&&filtered.reverse(),filtered},Sorting}()})}).call(this);