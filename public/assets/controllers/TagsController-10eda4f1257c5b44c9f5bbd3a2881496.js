(function(){angular.module("portfolioApp").controller("TagsController",function($scope,Tags,Labels,Languages,Sorting,Section){var serverErrorHandler;return $scope.init=function(){return $scope.labels=Labels.getCurrent(),$scope.languages=Languages.getCurrent(),$scope.currentLanguage=Languages.getCurrentLanguage(),$scope.label=$scope.labels[0][$scope.currentLanguage],$scope.icon_color=$scope.label.config.icon_color,$scope.search_text="",$scope.number=Sorting.number,$scope.date=Sorting.date,$scope.string=Sorting.string,$scope.tag_section="tag_section",$scope.item={},$scope.item[$scope.tag_section]=new Section(0,new Sorting(0,["-taggings_count"],"-taggings_count",Sorting.number)),this.tagsService=new Tags(serverErrorHandler),$scope.tags=this.tagsService.all()},$scope.setCurrentLanguage=function(){return $scope.currentLanguage=Languages.getCurrentLanguage(),$scope.label=$scope.labels[0][$scope.currentLanguage],$scope.icon_color=$scope.label.config.icon_color},$scope.getIconColor=function(){return $scope.icon_color},$scope.validateOrder=function(id,parent_id){return $scope.item[id].validateOrder(parent_id)},$scope.getOrderField=function(id,parent_id){return $scope.item[id].getOrder(parent_id).currentOrderField()},$scope.getOrderReversibility=function(id,parent_id){return $scope.item[id].getOrder(parent_id).currentOrderReversibility()},$scope.getOrderType=function(id,parent_id){return $scope.item[id].getOrder(parent_id).getCurrentType()},$scope.currentOrderBySection=function(id,parent_id,field){return $scope.validateOrder(id,parent_id),$scope.item[id].getOrder(parent_id).checkOrderByField(field)},$scope.updateOrder=function(id,parent_id,field,type){return $scope.item[id].getOrder(parent_id)?$scope.item[id].getOrder(parent_id).updateOrder(field,type):$scope.item[id].addOrder(parent_id,new Sorting(id,parent_id,[field],field,type))},serverErrorHandler=function(){return alert("Server error, please try again!")}})}).call(this);